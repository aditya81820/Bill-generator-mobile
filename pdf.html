<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>PDF Template</title>
  <style>
    body { font-family: 'Segoe UI', Arial, sans-serif; margin: 0; padding: 24px; background: #f9fafb; color: #111; }
    .invoice-wrapper {
      max-width: 720px;
      margin: 0 auto;
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 32px;
      page-break-after: always;
      break-after: page;
    }
    .invoice-wrapper:last-of-type {
      page-break-after: auto;
      break-after: auto;
    }
    .logo { font-size: 12px; font-weight: 600;}
    .flex { display: flex; justify-content: space-between;align-items: center; gap: 24px; }
    .grid-2 { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 15px; }
    .muted { font-size: 11px; }
    table { width: 100%; border-collapse: collapse; margin-top: 28px; font-size: 9px; }
    th { text-align: left; font-size: 8px; text-transform: uppercase; letter-spacing: 0.08em; color: #080808; border: 1.5px solid #000; padding: 4px; background-color: #f2f2f2; }
    td { padding: 6px; font-size: 8px; border: 1.5px solid #000; }
    /* Make very top and very bottom borders stronger so they don't look faint in PDF */
    thead tr:first-child th { border-top: 2px solid #000; }
    tbody tr:last-child td { border-bottom: 2px solid #000; }
    th:nth-child(4), td:nth-child(4) { width: 8%; }
    th:first-child, td:first-child { border-left: none; }
    th:last-child, td:last-child { border-right: none; }
    #col-item, .col-item { width: 30%; }
    #col-total, .col-total { width: 35%; }
    .table-total-label { text-align: right; font-weight: 600; }
    .totals { margin-top: 24px; width: 280px; margin-left: auto; font-size: 9px; }
    .totals div { display: flex; justify-content: space-between; margin-bottom: 8px; }
    .totals span strong { font-size: 9px; }
    .notes { margin-top: 32px; padding: 16px; background: #f1f5f9; border-radius: 8px; font-size: 14px; color: #475569; }
    .flex-top { align-items: flex-start; margin-bottom: 20px; }
    .flex-align-start { align-items: flex-start; }
    .logo-image { height: 64px; width: auto; object-fit: contain; display: block; }
    .text-right { text-align: right; }
    .tax-title { font-size: 12px; font-weight: 600; color: #0f172a; }
    .tax-subtitle { margin-top: 4px; font-size: 12px;}
    .invoice-heading { font-size: 32px; font-weight: 600; color: #0f172a; }
    .mt-8 { margin-top: 8px; }
    .mt-16 { margin-top: 16px; }
    .grid-spacing { margin-top: 5px; }
    .grid-bill-ship { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 20px; }
    .bill-ship-details { font-size: 9px; }
    .bill-ship-details .muted { font-size: 9px; }
    .bill-ship-details .section-title { font-size: 9px; font-weight: 600; }
    .section-title { margin-bottom: 8px; }
    .grand-total { border-top: 1px solid #e2e8f0; padding-top: 8px; }
    .invoice-meta { text-align: right; font-size: 9px; }
    .invoice-meta-row { display: flex; justify-content:space-between; align-items: center; border-bottom: 1px solid #e2e8f0; padding: 4px; }
    .invoice-meta-row:last-child { border-bottom: none; }

    /* Extra totals separator line (dark) below main totals */
    .totals-separator {
      border-top: 2px solid #000;
      width: 100%;
    }

    /* Tax breakup table with only horizontal (row) borders and 60% total width */
    .tax-breakup-table {
      width: 90%;
      margin-top: 0px;
      border-collapse: collapse;
      font-size: 6.5px;
    }
    .tax-breakup-table th,
    .tax-breakup-table td {
      border-left: none;
      border-right: none;
      border-bottom: 1px solid #000;
      padding: 4px 6px;
      font-size: 8px;
    }
    /* Remove bottom border from last row of tax-breakup table */
    .tax-breakup-table tbody tr:last-child td {
      border-bottom: 1px solid #000;
    }
    /* First row (header) background normal white + smaller height for tax-breakup table */
    .tax-breakup-table thead th {
      background-color: #ffffff;
      padding-top: 2px;
      padding-bottom: 2px;
      line-height: 1.1;
    }
    /* Remove only the very top border of the tax-breakup table */
    .tax-breakup-table thead tr:first-child th {
      border-top: none !important;
    }
    .tax-breakup-table th:first-child,
    .tax-breakup-table td:first-child {
      text-align: left;
    }

    .amount-in-words {
      margin-top: 8px;
      font-size: 9px;
    }

    .amount-in-words strong {
      font-weight: 600;
    }

    .full-width-line {
      margin-top: 4px;
      border-top: 1px solid #bcbcbc;
      width: 100%;
    }

    .signature-block {
      margin-top: 16px;
      text-align: right;
      font-size: 8px;
      line-height: 1.4;
    }

    .footer-note {
      margin-top: 16px;
      text-align: left;
      font-size: 8px;
      line-height: 1.4;
    }

    
  </style>
</head>
<body>
  <div class="invoice-wrapper">
    <div class="flex flex-top">
      <div>
        <img src="company.webp" alt="Company Logo" class="logo-image">
      </div>
      <div class="text-right">
        <div class="tax-title">Tax Invoice</div>
        <div class="muted tax-subtitle">(Original for Recipient)</div>
      </div>
    </div>

    <div class="flex flex-align-start">
      <div>
        <div class="logo">{{company.name}}</div>
        <div class="muted mt-8">{{company.address}}</div>
        <div class="muted">{{company.city}}</div>
        <div class="muted">Phone: {{company.phone}}</div>
        <div class="muted">GSTIN: {{company.gstin}}</div>
      </div>
      
    </div>

    <div class="grid-2 grid-spacing">
      <div class="grid-bill-ship bill-ship-details">
        <div>
          <p class="section-title">Bill To</p>
          <div>{{billTo.name}}</div>
          <div class="muted">{{billTo.address}}</div>
          <div class="muted">{{billTo.city}}</div>
          <div class="muted">Ph: {{billTo.phone}}</div>
          <div class="muted">GSTIN: {{billTo.gstin}}</div>
        </div>
        <div>
          <p class="section-title">Ship To</p>
          <div>{{shipTo.name}}</div>
          <div class="muted">{{shipTo.address}}</div>
          <div class="muted">{{shipTo.city}}</div>
          <div class="muted">Ph: {{shipTo.phone}}</div>
          <div class="muted">GSTIN: {{shipTo.gstin}}</div>
        </div>
      </div>
      <div class="invoice-meta">
        <div class="invoice-meta-row"><span>Invoice #</span><span>{{invoice.number}}</span></div>
        <div class="invoice-meta-row"><span>Invoice Date</span><span>{{invoice.date}}</span></div>
        <div class="invoice-meta-row"><span>Payment Method</span><span>{{invoice.paymentMethod}}</span></div>
        <div class="invoice-meta-row"><span>Due Amount</span><span>{{invoice.dueAmount}}</span></div>
      </div>
    </div>

    <table>
      <thead>
        <tr><th>#</th><th id="col-item">item</th><th>HSN</th><th>Qty</th><th>Tax</th><th>Price</th><th id="col-total">Total</th></tr>
      </thead>
      <tbody>
        {{#each items}}
        <tr>
          <td>{{add @index 1}}</td>
          <td class="col-item">{{this.description}}</td>
          <td></td>
          <td>{{this.qty}}</td>
          <td>18%</td>
          <td>{{this.price}}</td>
          <td class="col-total">{{this.total}}</td>
        </tr>
        {{/each}}
        <tr>
          <td colspan="3" class="table-total-label">Total</td>
          <td></td>
          <td></td>
          <td></td>
          <td class="col-total">{{totals.total}}</td>
        </tr>
      </tbody>
    </table>

    <div class="totals">
      <div><span>Net Taxable Amount</span><strong>{{totals.net}}</strong></div>
      <div><span>IGST (18%)</span><strong>{{totals.igst}}</strong></div>
      <div><span>Total Amount</span><strong>{{totals.total}}</strong></div>
    </div>

    <div class="totals-separator"></div>

    <table class="tax-breakup-table">
      <thead>
        <tr>
          <th style="width:10%;">Tax Rate</th>
          <th style="width:10%;">Taxable Amount (₹)</th>
          <th style="width:10%;">CGST %</th>
          <th style="width:10%;">CGST (₹)</th>
          <th style="width:10%;">SGST %</th>
          <th style="width:10%;">SGST (₹)</th>
          <th style="width:10%;">Total Tax (₹)</th>
          <th style="width:10%;"> </th>
          <th style="width:10%;"> </th>
          <th style="width:10%;"> </th>
          
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>18%</td>
          <td>{{totals.net}}</td>
          <td>0%</td>
          <td>₹0.00</td>
          <td>18%</td>
          <td>{{totals.igst}}</td>
          <td>{{totals.igst}}</td>
          <td> </td>
          <td> </td>
          <td> </td>
          
        </tr>
      </tbody>
    </table>

    <div class="amount-in-words">
      <strong>Total Amount (In Words):</strong> {{totals.inWords}}
    </div>
    <div class="full-width-line"></div>

    <div class="signature-block">
      <div>For Edistera Demo Pvt Ltd</div>
      <div>Authorised Signatory</div>
    </div>

    <div class="footer-note">
      <div><strong>Terms &amp; Conditions</strong></div>
      <div>{{notes}}</div>
    </div>

    

    <div class="full-width-line"></div>
  </div>

  <!-- Duplicate for Transporter -->
  <div class="invoice-wrapper">
    <div class="flex flex-top">
      <div>
        <img src="company.webp" alt="Company Logo" class="logo-image">
      </div>
      <div class="text-right">
        <div class="tax-title">Tax Invoice</div>
        <div class="muted tax-subtitle">(Duplicate for Transporter)</div>
      </div>
    </div>

    <div class="flex flex-align-start">
      <div>
        <div class="logo">{{company.name}}</div>
        <div class="muted mt-8">{{company.address}}</div>
        <div class="muted">{{company.city}}</div>
        <div class="muted">Phone: {{company.phone}}</div>
        <div class="muted">GSTIN: {{company.gstin}}</div>
      </div>
    </div>

    <div class="grid-2 grid-spacing">
      <div class="grid-bill-ship bill-ship-details">
        <div>
          <p class="section-title">Bill To</p>
          <div>{{billTo.name}}</div>
          <div class="muted">{{billTo.address}}</div>
          <div class="muted">{{billTo.city}}</div>
          <div class="muted">Ph: {{billTo.phone}}</div>
          <div class="muted">GSTIN: {{billTo.gstin}}</div>
        </div>
        <div>
          <p class="section-title">Ship To</p>
          <div>{{shipTo.name}}</div>
          <div class="muted">{{shipTo.address}}</div>
          <div class="muted">{{shipTo.city}}</div>
          <div class="muted">Ph: {{shipTo.phone}}</div>
          <div class="muted">GSTIN: {{shipTo.gstin}}</div>
        </div>
      </div>
      <div class="invoice-meta">
        <div class="invoice-meta-row"><span>Invoice #</span><span>{{invoice.number}}</span></div>
        <div class="invoice-meta-row"><span>Invoice Date</span><span>{{invoice.date}}</span></div>
        <div class="invoice-meta-row"><span>Payment Method</span><span>{{invoice.paymentMethod}}</span></div>
        <div class="invoice-meta-row"><span>Due Amount</span><span>{{invoice.dueAmount}}</span></div>
      </div>
    </div>

    <table>
      <thead>
        <tr><th>#</th><th id="col-item">item</th><th>HSN</th><th>Qty</th><th>Tax</th><th>Price</th><th id="col-total">Total</th></tr>
      </thead>
      <tbody>
        {{#each items}}
        <tr>
          <td>{{add @index 1}}</td>
          <td class="col-item">{{this.description}}</td>
          <td></td>
          <td>{{this.qty}}</td>
          <td>18%</td>
          <td>{{this.price}}</td>
          <td class="col-total">{{this.total}}</td>
        </tr>
        {{/each}}
        <tr>
          <td colspan="3" class="table-total-label">Total</td>
          <td></td>
          <td></td>
          <td></td>
          <td class="col-total">{{totals.total}}</td>
        </tr>
      </tbody>
    </table>

    <div class="totals">
      <div><span>Net Taxable Amount</span><strong>{{totals.net}}</strong></div>
      <div><span>IGST (18%)</span><strong>{{totals.igst}}</strong></div>
      <div><span>Total Amount</span><strong>{{totals.total}}</strong></div>
    </div>

    <div class="totals-separator"></div>

    <table class="tax-breakup-table">
      <thead>
        <tr>
          <th style="width:10%;">Tax Rate</th>
          <th style="width:10%;">Taxable Amount (₹)</th>
          <th style="width:10%;">CGST %</th>
          <th style="width:10%;">CGST (₹)</th>
          <th style="width:10%;">SGST %</th>
          <th style="width:10%;">SGST (₹)</th>
          <th style="width:10%;">Total Tax (₹)</th>
          <th style="width:10%;"> </th>
          <th style="width:10%;"> </th>
          <th style="width:10%;"> </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>18%</td>
          <td>{{totals.net}}</td>
          <td>0%</td>
          <td>₹0.00</td>
          <td>18%</td>
          <td>{{totals.igst}}</td>
          <td>{{totals.igst}}</td>
          <td> </td>
          <td> </td>
          <td> </td>
        </tr>
      </tbody>
    </table>

    <div class="amount-in-words">
      <strong>Total Amount (In Words):</strong> {{totals.inWords}}
    </div>
    <div class="full-width-line"></div>

    <div class="signature-block">
      <div>For Edistera Demo Pvt Ltd</div>
      <div>Authorised Signatory</div>
    </div>

    <div class="footer-note">
      <div><strong>Terms &amp; Conditions</strong></div>
      <div>{{notes}}</div>
    </div>

    <div class="full-width-line"></div>
  </div>

  <!-- Triplicate for Supplier -->
  <div class="invoice-wrapper">
    <div class="flex flex-top">
      <div>
        <img src="company.webp" alt="Company Logo" class="logo-image">
      </div>
      <div class="text-right">
        <div class="tax-title">Tax Invoice</div>
        <div class="muted tax-subtitle">(Triplicate for Supplier)</div>
      </div>
    </div>

    <div class="flex flex-align-start">
      <div>
        <div class="logo">{{company.name}}</div>
        <div class="muted mt-8">{{company.address}}</div>
        <div class="muted">{{company.city}}</div>
        <div class="muted">Phone: {{company.phone}}</div>
        <div class="muted">GSTIN: {{company.gstin}}</div>
      </div>
    </div>

    <div class="grid-2 grid-spacing">
      <div class="grid-bill-ship bill-ship-details">
        <div>
          <p class="section-title">Bill To</p>
          <div>{{billTo.name}}</div>
          <div class="muted">{{billTo.address}}</div>
          <div class="muted">{{billTo.city}}</div>
          <div class="muted">Ph: {{billTo.phone}}</div>
          <div class="muted">GSTIN: {{billTo.gstin}}</div>
        </div>
        <div>
          <p class="section-title">Ship To</p>
          <div>{{shipTo.name}}</div>
          <div class="muted">{{shipTo.address}}</div>
          <div class="muted">{{shipTo.city}}</div>
          <div class="muted">Ph: {{shipTo.phone}}</div>
          <div class="muted">GSTIN: {{shipTo.gstin}}</div>
        </div>
      </div>
      <div class="invoice-meta">
        <div class="invoice-meta-row"><span>Invoice #</span><span>{{invoice.number}}</span></div>
        <div class="invoice-meta-row"><span>Invoice Date</span><span>{{invoice.date}}</span></div>
        <div class="invoice-meta-row"><span>Payment Method</span><span>{{invoice.paymentMethod}}</span></div>
        <div class="invoice-meta-row"><span>Due Amount</span><span>{{invoice.dueAmount}}</span></div>
      </div>
    </div>

    <table>
      <thead>
        <tr><th>#</th><th id="col-item">item</th><th>HSN</th><th>Qty</th><th>Tax</th><th>Price</th><th id="col-total">Total</th></tr>
      </thead>
      <tbody>
        {{#each items}}
        <tr>
          <td>{{add @index 1}}</td>
          <td class="col-item">{{this.description}}</td>
          <td></td>
          <td>{{this.qty}}</td>
          <td>18%</td>
          <td>{{this.price}}</td>
          <td class="col-total">{{this.total}}</td>
        </tr>
        {{/each}}
        <tr>
          <td colspan="3" class="table-total-label">Total</td>
          <td></td>
          <td></td>
          <td></td>
          <td class="col-total">{{totals.total}}</td>
        </tr>
      </tbody>
    </table>

    <div class="totals">
      <div><span>Net Taxable Amount</span><strong>{{totals.net}}</strong></div>
      <div><span>IGST (18%)</span><strong>{{totals.igst}}</strong></div>
      <div><span>Total Amount</span><strong>{{totals.total}}</strong></div>
    </div>

    <div class="totals-separator"></div>

    <table class="tax-breakup-table">
      <thead>
        <tr>
          <th style="width:10%;">Tax Rate</th>
          <th style="width:10%;">Taxable Amount (₹)</th>
          <th style="width:10%;">CGST %</th>
          <th style="width:10%;">CGST (₹)</th>
          <th style="width:10%;">SGST %</th>
          <th style="width:10%;">SGST (₹)</th>
          <th style="width:10%;">Total Tax (₹)</th>
          <th style="width:10%;"> </th>
          <th style="width:10%;"> </th>
          <th style="width:10%;"> </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>18%</td>
          <td>{{totals.net}}</td>
          <td>0%</td>
          <td>₹0.00</td>
          <td>18%</td>
          <td>{{totals.igst}}</td>
          <td>{{totals.igst}}</td>
          <td> </td>
          <td> </td>
          <td> </td>
        </tr>
      </tbody>
    </table>

    <div class="amount-in-words">
      <strong>Total Amount (In Words):</strong> {{totals.inWords}}
    </div>
    <div class="full-width-line"></div>

    <div class="signature-block">
      <div>For Edistera Demo Pvt Ltd</div>
      <div>Authorised Signatory</div>
    </div>

    <div class="footer-note">
      <div><strong>Terms &amp; Conditions</strong></div>
      <div>{{notes}}</div>
    </div>

    <div class="full-width-line"></div>
  </div>

</body>
</html>

